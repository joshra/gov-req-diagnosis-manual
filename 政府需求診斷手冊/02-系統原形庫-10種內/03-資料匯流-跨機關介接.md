# 資料匯流／跨機關介接（Integration/Bridge）

## 原形定義
把多個外部系統/機關的資料「**可靠地取得、清洗、對照、保存、呈現**」，重點是：
- 介接**不會因為對方改欄位/斷線就整套掛掉**
- 每筆資料有**來源、批次、處理歷程**可追

## 典型觸發關鍵字
介接、串接、交換、同步、抓資料、API、跨機關、資料回傳、主檔對照、排程。

## 診斷話術
「你這是典型的**資料匯流/跨機關介接系統**。這類系統最常失敗不是技術，而是**資料契約、監控告警、失敗補償、口徑對齊**沒先談清楚。建議我們先把『介接責任矩陣、版本策略、對帳與補送』寫成規格，維運才不會每天救火。」

## 必備需求清單
- **資料契約（Data Contract）**：
  - 欄位定義、代碼表、版本號、相容策略、變更通知SLA
- **排程與監控告警**：
  - 失敗重試、補送、告警（誰接、多久要處理）、儀表板
- **資料清洗與口徑**：
  - 日期/地點/代碼格式不一、缺值、重複、異常
  - 口徑定義（誰說了算）與落地的資料字典
- **快取與更新頻率**：
  - 即時/準即時/每日批次；快取策略與失效策略
- **端到端追蹤**：
  - 每筆資料來源、批次ID、處理時間、錯誤原因、可回放

## 維運／TCO 提醒
- **協調成本最高**：對方改欄位/停機/換憑證，影響你驗收與上線
- **憑證/VPN/白名單輪替**：常是「每年固定會發生的維運工作」
- **資料品質問題會變成你被罵**：要有可證明的處理紀錄與責任界線

## 紅旗
- 「對方會配合」但沒有窗口/停機公告/版本策略 → 先補齊介接治理
- 「要即時」但對方只提供批次檔 → 先談更新頻率與可接受延遲

## 三個快速追問
- **來源**：資料來源有哪些？誰是窗口？有沒有測試環境？
- **變更**：欄位改動誰通知？多久前通知？不通知算誰的？
- **失敗**：抓不到/抓錯怎麼辦？要不要對帳？要不要補送？

## 建議交付物
- 介接清單（API/檔案/DB）、資料契約（schema/版本）、責任矩陣、監控告警規格

## 延伸閱讀
- 隱性需求：`../03-隱性需求清單/05-介接契約與版本管理.md`
- 維運與TCO：`../04-維運與總持有成本-TCO/02-值班事件通報與維運責任.md`
